{% extends "layout.html" %}

{% block head %}
    <script src="/static/js/direction.js"></script>
    <script src="https://hammerjs.github.io/dist/hammer.js"></script>
{% endblock %}

{% block title %}
    Direction
{% endblock %}

{% block main %}

    <!-- Direction -->
    <div class="container text-center">

        <div class="container-fluid">
            <!-- Game Title -->
            <h1 class="h1">Direction with Wojak!</h1>
            <!-- Wojak's health / drunk level -->
            <span hidden id="import-health">{{ currentHealth }}</span>
            <div class="progress my-4" style="height: 3px;">
                <div id="wojak-health" class="progress-bar bg-danger" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
            </div> 
        </div>

        <!-- Wojak Expression, Scoreboard and Speech -->
        <div class="d-flex align-items-center justify-content-evenly">
            <div class="d-flex-column">
                <!-- Wojak's Score -->
                <h6 class="h6">Woj</h6>
                <p id="wscore">0</p>
            </div>
            <div id="wojak-face">
                <!-- Wojak's face -->
                <img src="/static/images/wojak-confident.png" class="img-thumbnail mx-auto d-block">
            </div>
            <div class="d-flex-column">
                <!-- Player's Score -->
                <h6 class="h6">You</h6>
                <p id="pscore">0</p>
            </div>
        </div>
        <!-- Wojak's Speech -->
        <div class="mb-3" id="wojak-mouth"></div>
        
        <!-- Ask who goes first -->
        <div class="container-fluid my-3" id="pregame">
            <h4 class="h4 pb-3">Who starts first?</h4>
                <button type="button" class="btn btn-light" id="wojak">Wojak</button>
                <button type="button" class="btn btn-light" id="player">Me</button>
            </form>
        </div>
        
        
        <!-- For Gameplay -->
        <div class="game">
            <div class="border d-flex flex-column p-4">
            <!-- For Game Output -->
                <div id="wojak-hands">
                    <i class="fa-solid fa-hands-clapping fa-beat-fade fa-4x"></i>
                </div>
            </div>
            <!-- For Game input -->
            <div class="d-flex flex-column mb-5">
                <button type="button" class="btn btn-primary btn-lg mt-3 py-5" id="clap">Start</button>
            </div>
        </div>

    </div>

    <!-- Game Instructions -->
    <div class="container-fluid mt-5 p-4 border-top border-bottom" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        <div class="d-inline-flex align-items-center">
            <h3 class="h3 m-0">Instructions</h3>
            <i class="fa-solid fa-caret-down mx-3"></i>
        </div>
        <div class="collapse" id="collapseExample">
            <p class="py-3">Predict opponent's direction! Whoever points to the direction that their opponent points to loses the game. The loser must drink
                            a sip. <strong>You must down a glass if Wojak reaches 20 points.</strong></p>
            <h4 class="h4">How to Play</h4>
            <ol>
                <li>Decide who goes first</li>
                <li>Tap twice on blue button to start every round</li>
                <li>Either swipe up, down, left or right immediately after Step 2</li>
                <li>Wojak's direction is displayed inside the box. If he points to the direction that you swiped, you win the round!</li>
                <li>If he did not point at the direction that you swiped, that's the end of your turn!</li>
                <li>Tap twice again and swipe on a direction</li>
                <li>If you swiped to a direction that Wojak pointed to, you lose the round!</li>
                <li>Otherwise, it's your turn again. Good luck!</li>
            </ol>
        </div>
    </div>

    
{% endblock %}